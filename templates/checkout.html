{% extends 'base.html' %}
{% block content %}
<div class="checkout-container">
    <h2>Checkout</h2>
    
    <div class="order-summary">
        <h3>Order Summary</h3>
        {% for item in cart_items %}
            <div class="cart-item">
                <p>{{ item.product.title }} x {{ item.quantity }}</p>
                <p>${{ item.total_price }}</p>
            </div>
        {% endfor %}
        <div class="total">
            <h4>Total: ${{ subtotal_price }}</h4>
        </div>
    </div>

    <form method="POST" action="{% url 'process_checkout' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" name="name" required>
        </div>
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" name="email" required>
        </div>
        
        <div class="form-group">
            <label for="address">Shipping Address</label>
            <textarea name="address" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="payment_method">Payment Method</label>
            <select name="payment_method" id="payment_method">
                <option value="Credit Card">Credit Card</option>
                <option value="PayPal">PayPal</option>
            </select>
        </div>
        
        <div id="credit-card-fields">
            <div class="form-group">
                <label for="card_number">Card Number</label>
                <input type="text" name="card_number">
            </div>
            
            <div class="form-group">
                <label for="expiry_date">Expiry Date</label>
                <input type="text" name="expiry_date" placeholder="MM/YY">
            </div>
            
            <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="text" name="cvv">
            </div>
        </div>
        
        <button type="submit" class="checkout-button">Place Order</button>
    </form>
</div>
{% endblock %}

